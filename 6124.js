"use strict";(self.webpackChunkdmf_ui=self.webpackChunkdmf_ui||[]).push([[6124],{1816:(r,t,e)=>{e.r(t),e.d(t,{default:()=>u});var a=e(2122),n=e(7375),o=e(2950),i=e.n(o),s=e(9931),l=e.n(s),c=e(9476),d=["children","buttonType","block","className","ripple","rounded","color","size","iconOnly"];const u=(0,o.forwardRef)((function(r,t){var e=r.children,o=r.buttonType,s=r.block,u=r.className,m=r.ripple,p=r.rounded,f=r.color,h=r.size,v=r.iconOnly,g=(0,n.Z)(r,d),y=new(l()),b=h||"md",w=o||"fill",x=f||"primary";return(0,c.tZ)(i().Fragment,null,(0,c.tZ)("button",(0,a.Z)({},g,{css:[s&&{width:"100%"},"display:flex;align-items:center;justify-content:center;gap:0.25rem;font-weight:700;letter-spacing:0.05em;text-transform:uppercase;transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;border-radius:0.5rem;outline:2px solid transparent;outline-offset:2px;:focus{outline:2px solid transparent;outline-offset:2px;--tw-shadow:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}",!!p&&{borderRadius:"9999px"},!p&&{borderRadius:"0.5rem"},v&&"md"===b&&{display:"grid",width:"2.5rem",height:"2.5rem",padding:"0px",fontSize:"0.75rem",lineHeight:"1.5",placeItems:"center"},!v&&"md"===b&&{paddingTop:"0.625rem",paddingBottom:"0.625rem",paddingLeft:"1.5rem",paddingRight:"1.5rem",fontSize:"0.75rem",lineHeight:"1.5"},v&&"lg"===b&&{display:"grid",width:"3rem",height:"3rem",padding:"0px",fontSize:"0.875rem",lineHeight:"1.625",placeItems:"center"},!v&&"lg"===b&&{paddingTop:"0.75rem",paddingBottom:"0.75rem",fontSize:"0.875rem",lineHeight:"1.625",paddingLeft:"1.75rem",paddingRight:"1.75rem"},v&&"sm"===b&&{display:"grid",width:"2rem",height:"2rem",padding:"0px",fontSize:"0.75rem",lineHeight:"1.5",placeItems:"center"},!v&&"sm"===b&&{paddingTop:"0.375rem",paddingBottom:"0.375rem",paddingLeft:"1rem",paddingRight:"1rem",fontSize:"0.75rem",lineHeight:"1.5"},"link"===w&&"primary"===x&&{backgroundColor:"rgba(0, 0, 0, 0)",color:"var(--mf-primary-500)",":hover":{backgroundColor:"var(--mf-primary-50)",color:"var(--mf-primary-700)"},":active":{backgroundColor:"var(--mf-primary-100)"}},"link"===w&&"secondary"===x&&{backgroundColor:"rgba(0, 0, 0, 0)",color:"var(--mf-secondary-500)",":hover":{backgroundColor:"var(--mf-secondary-50)",color:"var(--mf-secondary-700)"},":active":{backgroundColor:"var(--mf-secondary-100)"}},"fill"===w&&"primary"===x&&{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",backgroundColor:"var(--mf-primary-500)",":hover":{backgroundColor:"var(--mf-primary-700)","--tw-shadow":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":focus":{backgroundColor:"var(--mf-primary-400)"},":active":{backgroundColor:"var(--mf-primary-800)"}},"fill"===w&&"secondary"===x&&{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",backgroundColor:"var(--mf-secondary-500)",":hover":{backgroundColor:"var(--mf-secondary-700)","--tw-shadow":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":focus":{backgroundColor:"var(--mf-secondary-400)"},":active":{backgroundColor:"var(--mf-secondary-800)"}},"outline"===w&&"primary"===x&&{backgroundColor:"rgba(0, 0, 0, 0)",borderWidth:"1px",borderStyle:"solid","--tw-shadow":"0 0 #0000",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",color:"var(--mf-primary-500)",borderColor:"var(--mf-primary-500)",":hover":{backgroundColor:"var(--mf-primary-50)",borderColor:"var(--mf-primary-700)",color:"var(--mf-primary-700)"}},"outline"===w&&"secondary"===x&&{backgroundColor:"rgba(0, 0, 0, 0)",borderWidth:"1px",borderStyle:"solid","--tw-shadow":"0 0 #0000",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",color:"var(--mf-secondary-500)",borderColor:"var(--mf-secondary-500)",":hover":{backgroundColor:"var(--mf-secondary-50)",borderColor:"var(--mf-secondary-700)",color:"var(--mf-secondary-700)"}},"",""],className:u,onMouseUp:function(r){"dark"===m&&y.create(r,"dark"),"light"===m&&y.create(r,"light")},ref:t}),e))}))},1751:(r,t,e)=>{e.r(t),e.d(t,{default:()=>u});var a=e(2122),n=e(7375),o=(e(2950),e(9476)),i=["color","text","id","className"],s={primary:"mt-checkbox-primary-500",secondary:"mt-checkbox-secondary-500",success:"mt-checkbox-success-500",danger:"mt-checkbox-danger-500",warning:"mt-checkbox-warning-500",info:"mt-checkbox-info-500"},l={name:"s5xdrg",styles:"display:flex;align-items:center"},c={name:"10kqn2g",styles:"display:none;overflow:hidden"},d={name:"r2lqyl",styles:"display:flex;align-items:center;cursor:pointer;user-select:none;transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity))"};function u(r){var t=r.color,e=void 0===t?"primary":t,u=r.text,m=r.id,p=r.className,f=(0,n.Z)(r,i),h=m||"check-"+Math.ceil(1e3*Math.random());return(0,o.tZ)("div",{css:l,className:p},(0,o.tZ)("input",(0,a.Z)({},f,{id:h,type:"checkbox",css:c,className:"mt-checkbox ".concat(s[e])})),(0,o.tZ)("label",{htmlFor:h,css:d},(0,o.tZ)("span",{css:["position:relative;display:inline-block;width:1.25rem;height:1.25rem;margin-right:0.5rem;transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;border-width:1px;border-radius:0.25rem;","primary"===e&&{borderColor:"var(--mf-primary-500)"},"secondary"===e&&{borderColor:"var(--mf-secondary-500)"},"success"===e&&{borderColor:"var(--mf-success-500)"},"danger"===e&&{borderColor:"var(--mf-danger-500)"},"warning"===e&&{borderColor:"var(--mf-warning-500)"},"info"===e&&{borderColor:"var(--mf-info-500)"},"",""]}),u))}},5711:(r,t,e)=>{e.r(t),e.d(t,{default:()=>u});var a=e(2122),n=e(7375),o=(e(2950),e(9476)),i=["color","text","id","name"],s={primary:"mt-radio-primary-500",secondary:"mt-radio-secondary-500",success:"mt-radio-success-500",danger:"mt-radio-danger-500",warning:"mt-radio-warning-500",info:"mt-radio-info-500"},l={name:"10kqn2g",styles:"display:none;overflow:hidden"},c={name:"lmuwq4",styles:"display:flex;align-items:center;--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;cursor:pointer;user-select:none"},d={name:"kq3dwc",styles:"position:relative;display:inline-block;width:1rem;height:1rem;margin-right:0.5rem;transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;border-width:1px;--tw-border-opacity:1;border-color:rgba(107, 114, 128, var(--tw-border-opacity));border-radius:9999px"};function u(r){var t=r.color,e=void 0===t?"primary":t,u=r.text,m=r.id,p=r.name,f=(0,n.Z)(r,i),h=m||"check-"+Math.ceil(1e3*Math.random());return(0,o.tZ)("div",{className:"flex items-center"},(0,o.tZ)("input",(0,a.Z)({},f,{name:p,id:h,type:"radio",css:l,className:"mt-radio ".concat(s[e]," ")})),(0,o.tZ)("label",{htmlFor:h,css:c},(0,o.tZ)("span",{css:d}),u))}},3096:(r,t,e)=>{e.r(t),e.d(t,{default:()=>S});var a=e(2122),n=e(4699),o=e(484),i=e(6610),s=e(5991),l=e(3349),c=e(5255),d=e(6070),u=e(7608),m=e(6156),p=e(7329),f=e(2950),h=e.n(f),v=e(4517),g=e(5478),y=e(1719),b=e(3741),w=e(5547),x=e(9476);function k(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,a)}return e}function Z(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?k(Object(e),!0).forEach((function(t){(0,m.Z)(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}var C=function(r){var t;return(t=[]).concat.apply(t,(0,p.Z)(r))},R={name:"wmfy1l",styles:"margin-top:0.5rem;margin-bottom:0.5rem;padding-left:0.5rem"},I={name:"1o5e4q6",styles:"margin-top:0.25rem;margin-bottom:0.25rem;padding-left:0.5rem"},S=function(r){(0,c.Z)(h,r);var t,e,p=(t=h,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}(),function(){var r,a=(0,u.Z)(t);if(e){var n=(0,u.Z)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,d.Z)(this,r)});function h(r){var t;return(0,i.Z)(this,h),t=p.call(this,r),(0,m.Z)((0,l.Z)(t),"filterRules",{numeric:function(r){return/^$|^[0-9]+$/.test(r)},decimal:function(r){return/^$|^[\d.]+$/.test(r)}}),(0,m.Z)((0,l.Z)(t),"transformerRules",{uppercase:function(r){return r.toUpperCase()},lowercase:function(r){return r.toLowerCase()}}),(0,m.Z)((0,l.Z)(t),"validationRules",{required:function(r){return null!==r&&("object"===(0,o.Z)(r)&&(r=Object.keys(r)),"string"==typeof r||Array.isArray(r)?!!r.length:null!=r)},email:function(r){return!r||/^$|^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)},decimal:function(r){return!r||/^$|^\d+$|^\.\d+|^\d+\.\d+$/.test(r)}}),t.state={form:r.defaultValues||{},inputs:r.inputs||[],canRender:[],validationErrors:{},randomisedFields:{}},t.validateForm=t.validateForm.bind((0,l.Z)(t)),t.submitForm=t.submitForm.bind((0,l.Z)(t)),t.propagateChange=t.propagateChange.bind((0,l.Z)(t)),t}return(0,s.Z)(h,[{key:"render",value:function(){try{var r=this.state.inputs;return(0,x.tZ)(f.Fragment,null,this.renderInputs(r),this.renderSubmitButton())}catch(r){return console.error(r),(0,x.tZ)("p",null,"Error rendering form")}}},{key:"validateForm",value:function(){var r=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.props.inputs,a=!1,o=this.state,i=o.validationErrors,s=o.form;return C(e).forEach((function(t){if(t.validationRules){var e=r.validateInput(t.name,s[t.name],t.validationRules),o=(0,n.Z)(e,2),l=o[0],c=o[1];i=Z(Z({},i),c),l||(a=!0)}})),t?(this.setState({validationErrors:i}),[!a,i]):[!a,i]}},{key:"validateInput",value:function(r,t,e){var a=this,n=!0,o=null;Array.isArray(e)||(e=[e]),e.forEach((function(e){var i=null;switch(e.constructor===Object&&(i=e.message,e=e.rule),e.constructor){case Function:e(r,t,a.state.form)||(o=i,n=!1);break;case RegExp:e.test(t)||(o=i,n=!1);break;case String:if("/"===e[0]&&"/"===e[e.length-1]&&!new RegExp(e.substring(1,e.length-1)).test(t)){o=i,n=!1;break}try{a.validationRules[e](t)||(o=i,n=!1)}catch(t){console.error("Invalid filter rule ".concat(e," used on input ").concat(r))}break;default:console.error("Invalid validation type of ".concat(e.constructor," on input ").concat(r))}}));var i=(0,m.Z)({},r,!n&&(o||!0));return[n,i]}},{key:"submitForm",value:function(){var r=this.state.form,t=this.props.onSubmit;if(t){var e=this.validateForm(),a=(0,n.Z)(e,2);t({valid:a[0],data:{form:r,validationErrors:a[1]}})}}},{key:"propagateChange",value:function(r,t){var e=this,a=this.props.onChange;this.setState({form:Z({},r)},(function(){var o=e.validateForm(!1),i=(0,n.Z)(o,2),s=i[0],l=i[1];t=l||t,a&&a({valid:s,data:{form:r,validationErrors:t}})}))}},{key:"applyFilter",value:function(r,t){switch(t.constructor){case RegExp:return t.test(r.target.value);case Function:return t(r);case String:if("/"===t[0]&&"/"===t[t.length-1])return new RegExp(t.substring(1,t.length-1)).test(r.target.value);try{return this.filterRules[t](r.target.value)}catch(e){return console.error("Invalid filter rule ".concat(t," used on input ").concat(r.target.name)),!0}default:return console.error("Invalid filter type of ".concat(t.constructor," on input ").concat(r.target.name)),!0}}},{key:"applyTransformer",value:function(r,t){switch(t.constructor){case Function:return t(r);case String:return this.transformerRules[t](r.target.value);default:return console.error("Invalid transformer type of ".concat(t.constructor," on input ").concat(r.target.name)),r.target.value}}},{key:"applyValidation",value:function(r,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.state.validationErrors,o=this.validateInput(r.target.name,r.target.value,t),i=(0,n.Z)(o,2),s=i[0],l=i[1];return a=Z(Z({},a),l),(e&&s||!e)&&this.setState({validationErrors:a}),a}},{key:"handleInput",value:function(r,t){var e=this;t.persist(),clearTimeout(this.timer);var a={};if(!r.filter||this.applyFilter(t,r.filter)){var n=t.target.value;if("checkbox"===r.type&&(n=t.target.checked),"select"===r.type&&(n=t.target.value),r.transformer&&r.transformer.onChange&&(n=this.applyTransformer(t,r.transformer.onChange)),r.validationRules){var i=this.props.validationTimeout;a=this.applyValidation(t,r.validationRules,!0),this.timer=setTimeout((function(){return e.applyValidation(t,r.validationRules)}),i)}var s=this.state.form;s[r.name]=n&&"object"===(0,o.Z)(n)&&!Array.isArray(n)?n.value:n,this.propagateChange(s,a)}}},{key:"handleBlur",value:function(r,t){clearTimeout(this.timer);var e=this.state.form,a=t.target.value,n={};r.transformer&&r.transformer.onBlur&&(a=this.applyTransformer(t,r.transformer.onBlur)),r.validationRules&&(n=this.applyValidation(t,r.validationRules)),e[r.name]!==a&&(e[r.name]=a,this.propagateChange(e,n))}},{key:"getInputValidationError",value:function(r){var t=this.state.validationErrors,e=this.props.formErrors,a=t[r],n=e?e[r]:null;return a&&!0!==a?a:n}},{key:"renderSubmitButton",value:function(){var r=this.props,t=r.submitButton,e=r.classPrefix,a=r.defaultSubmitClass,n=r.loading;if(t)return(0,x.tZ)("div",{className:"mt-2 mb-2"},(0,x.tZ)(v.Z,{ripple:"dark",className:"".concat(e,"-").concat(t.className||a||""," ").concat(this.validateForm(!1)?"":"invalid"," ").concat(n?"loading":""),onClick:this.submitForm},this.renderSubmitButtonContents()))}},{key:"renderSubmitButtonContents",value:function(){var r=this.props,t=r.submitButton,e=r.loading,a=r.loadingElement;return e&&a?a:(null==t?void 0:t.text)||null}},{key:"renderInputs",value:function(r){var t=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state.canRender,n=this.props,o=n.classPrefix,i=n.defaultContainerClass;return r=r.filter((function(r){return a.includes(r.name)||r.constructor===Array})),(0,x.tZ)(f.Fragment,null,r.map((function(r,a){if(r.onHide&&r.onHide(t.state.form))return null;var n=r.constructor===Array?"".concat(o,"-row flex flex-wrap flex-col md:flex-row"):" ".concat(o,"-").concat(r.inputClass||i||"");return(0,x.tZ)(f.Fragment,{key:a},(0,x.tZ)("div",{className:"py-2 ".concat(e&&0!==a?"md:pl-2 sm:pl-0":"pl-0"," ").concat(n," ").concat(r.inputClass||"")},t.renderInput(r)))})))}},{key:"renderInput",value:function(r){var t=this;if(r.constructor===Array)return this.renderInputs(r,!0);var e=r,n=this.state.form[e.name]||(this.props.defaultValues||{})[e.name],o=this.state,i=o.form,s=o.validationErrors,l=o.randomisedFields,c=this.props,d=c.formErrors,u=c.classPrefix,m=c.defaultInputClass,p=c.invalidInputClass,h=c.validInputClass,v={className:"".concat(u,"-").concat(e.inputClass||m||""," ").concat(s[e.name]||d&&d[e.name]?p:!1===s[e.name]?h:""),name:l[e.name]||e.name,value:i[e.name]||n||"",placeholder:e.placeholder,id:e.name,onChange:this.handleInput.bind(this,e),onBlur:this.handleBlur.bind(this,e)};switch(e.type){case"textarea":return(0,x.tZ)("textarea",v);case"checkbox":return(0,x.tZ)(g.Z,{css:R,text:e.label||"",name:e.name,color:e.color,onChange:function(r){return t.handleInput(e,r)}});case"select":var k=r,Z=(k.options||[]).map((function(r){return{value:r.value,label:r.label}}));return(0,x.tZ)(w.Z,{color:e.color||"primary",label:e.label,outline:k.outline||!1,className:k.selectClass,options:Z,error:this.getValidatoinError(e),onValueChange:function(r,a){r.target.name=e.name,r.target.value=a,t.handleInput(e,r)}});case"radio":var C=e;return(0,x.tZ)(f.Fragment,null,(C.options||[]).map((function(r,a){return(0,x.tZ)("div",{css:I,key:"".concat(e.name,"-r-").concat(a),className:"".concat(u,"-").concat(e.inputClass||"")},(0,x.tZ)(b.Z,{defaultChecked:r.value===n,text:r.label,name:e.name,value:r.value,onChange:t.handleInput.bind(t,e)}))})));default:return(0,x.tZ)(y.Z,(0,a.Z)({},v,{value:n,label:e.label,placeholder:e.placeholder,size:e.size||"base",type:e.type,error:this.getValidatoinError(e),onChange:this.handleInput.bind(this,e)}))}}},{key:"getValidatoinError",value:function(r){return this.getInputValidationError(r.name)}}],[{key:"flatInputs",value:function(r){return C(r)}},{key:"getDerivedStateFromProps",value:function(r,t){var e=t.form,a=t.validationErrors,n=t.randomisedFields,o=h.flatInputs(r.inputs),i=Z({},n),s=Z({},e),l=Z({},a),c=[];return o.forEach((function(r){var e=r.name,a=r.renderIf,n=r.autocomplete;"function"!=typeof a||a(t)?c.push(e):(delete s[e],delete l[e]),!1!==n?delete i[e]:i[e]||(i[e]=Math.random().toString(36).substring(7))})),Z(Z({},t),{},{inputs:r.inputs,canRender:c,form:s,validationErrors:l,randomisedFields:i})}}]),h}(h().Component)}}]);